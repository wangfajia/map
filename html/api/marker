_jsload2&&_jsload2('marker', 'ab.prototype.add=ga(0,function(a){this.ze.push(a)});function Ld(a,b){0<a.ze.length?a.ze[a.ze.length-1].k.finish=b:a.k.finish=b} t.extend(Na.prototype,{initialize:function(a){this.map=a;this.fm();this.M();this.Bk&&this.Bk.na(this.map,this);this.K.P=this.P;t.lang.ta.call(this,this.P);this.Gb||t.A.H(this.K);return this.K},M:function(){function a(a,b){var f=a.srcElement||a.target,g=a.clientX||a.pageX,j=a.clientY||a.pageY;if(a&&b&&g&&j&&f){var f=t.A.ea(c.za),k=kb();b.pixel=b.Ta=new O(g-f.left+k[1],j-f.top+k[0]);b.point=c.Za(b.Ta)}return b}if(this.K){var b=this,c=this.map;t.D(this.K,"mouseover",function(c){b.xi||b.dispatchEvent(a(c, x(new M("onmouseover"),c)))});t.D(this.K,"mouseout",function(c){b.xi||b.dispatchEvent(a(c,x(new M("onmouseout"),c)))});b.z.Od&&(t.D(this.K,"touchstart",function(a){b.M.yu=new O(a.changedTouches[0].clientX,a.changedTouches[0].clientY)}),t.D(this.K,"touchend",function(c){var e=Ia(),f=new O(c.changedTouches[0].clientX,c.changedTouches[0].clientY);10<Math.abs(f.x-b.M.yu.x)||10<Math.abs(f.y-b.M.yu.y)?b.M.yu=n:(b.dispatchEvent(a(c,x(new M("onclick"),c))),e-b.az<b.map.G.Vu&&b.dispatchEvent(a(c,x(new M("ondblclick"), c))),b.az=e)}),E()||t.D(this.K,"click",function(c){for(var e=c.srcElement||c.target;e;){if(e==b.K){(!(b instanceof R)||b instanceof R&&(!b.Ot||b.Ot&&b.ea().gb(b.Ot)))&&b.dispatchEvent(a(c,x(new M("onclick"),c)));break}else if(b.map&&b.map.sa&&e==b.map.sa.Hb)break;e=e.parentNode}}),t.D(this.K,"dblclick",function(c){b.dispatchEvent(a(c,x(new M("ondblclick"),c)));la(c)}),(!t.R.of||4>t.R.of)&&t.D(this.K,"contextmenu",function(c){b.dispatchEvent(a(c,x(new M("onrightclick"),c)))}));t.D(this.K,"mousedown", function(c){if(b instanceof R)b.Ot=b.ea();b.dispatchEvent(a(c,x(new M("onmousedown"),c)))});t.D(this.K,"mouseup",function(c){b.dispatchEvent(a(c,x(new M("onmouseup"),c)));t.R.of>=4&&(c.button==2&&b.z.Od)&&b.dispatchEvent(a(c,x(new M("onrightclick"),c)))})}},H:function(){this.Gb!=o&&(this.Gb=o,Ib.prototype.H.call(this),this.Va&&(this.Va.Ma&&this.Va.Ma==this)&&this.dc())},show:function(){this.Gb!=i&&(this.Gb=i,Ib.prototype.show.call(this))},pE:function(a){if(a)for(var b in a)typeof this.z[b]==typeof a[b]&& (this.z[b]=a[b])},bs:function(a){this.zIndex=a;this.Xi()},Xi:function(){var a;nb(this.zIndex)?a=this.zIndex:(a=0,this.map&&this.ea()&&(a=this.ea()?this.ea().lat:0,a=Ib.Vn(a)+(this.z.eB||0)));this.K&&(this.K.style.zIndex=a)},Rk:function(a){this.Bk=a;this.map&&a.na(this.map,this)},Bl:function(){this.Bk.remove();this.Bk=n}});U(fd,{show:fd.show,hide:fd.H,addContextMenu:fd.Rk,removeContextMenu:fd.Bl});var Md=new Mb(C.ca+"marker_red_hd.png",new L(23,25),{anchor:new L(10,25),infoWindowAnchor:new L(10,0),imageSize:new L(23,25)});R.bp=Ib.Vn(-90)+1E6;R.ny=R.bp+1E6;R.lH=function(a){if(R.kp[a])return R.kp[a];var b=R.kp[a]=["BMap_"+Math.round(1E4*Math.random()),"BMap_"+Math.round(1E4*Math.random())],c=Ub[a],d=R.qJ;d||(d=R.qJ=K("style",{type:"text/css"}),document.getElementsByTagName("head")[0].appendChild(d));d.textContent+=R.kz(c.Kj,b[0])+R.kz(c.Bo,b[1]);return R.kp[a]}; R.kz=function(a,b){var c=["@-webkit-keyframes "+b+" {\\\\n"];t.bc.qc(a,function(a){c.push(100*a.lb,"% { ");c.push("-webkit-transform: translate(",a.translate[0],"px,",a.translate[1],"px); ");c.push("-webkit-animation-timing-function: ",a.pb,"; ");c.push("}\\\\n")});c.push("}\\\\n");return c.join("")}; R.SF=function(a,b){if(!R.Sf&&(R.Sf=K("img",{src:C.ca+"drag_cross.png",width:13,height:9}),R.Sf.style.position="absolute",6==t.R.$)){delete R.Sf;var c=(R.Sf=K("div")).style;c.position="absolute";c.width="13px";c.height="9px";c.filter=\'progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image,src="\'+C.ca+\'drag_cross.png")\'}c=R.Sf.style;c.left=a.width-6+"px";c.top=a.height-5+"px";b.appendChild(R.Sf)};R.II=function(){R.Sf&&R.Sf.parentNode&&R.Sf.parentNode.removeChild(R.Sf)};R.kp=[]; R.Ny=function(){this.style.WebkitAnimation=""}; t.extend(R.prototype,{initialize:function(a){this.Di();Na.prototype.initialize.call(this,a);this.Gb||t.A.H(this.Ib);a.Wh()&&this.z.wf==Pb&&(this.z.wf=Md);this.ga(this.S);this.Te(this.z.wf);this.as(this.z.ki);this.$r(this.z.rotation);this.z.label&&this.gp&&this.z.label.addEventListener("remove",this.gp);this.Zj(this.z.label);this.Xb(this.z.title);this.Gt();return this.K},Di:function(){this.Em||(this.Em=i,this.Pb=this.Ib=this.Lc=this.K=n,this.Ei=o)},fm:function(){var a=this.map.vf();this.K=hb(a.Qw, this.mI());this.Ib=hb(a.uD,this.fI());this.Ib.P=this.P},mI:function(){var a=[\'<span class="BMap_Marker BMap_noprint" unselectable="on" \'];a.push(this.z.title?\'title="\'+this.z.title+\'"\':\'"\');a.push(\' style="position:absolute;padding:0;margin:0;border:0;width:0;height:0;-moz-user-select:none;\');a.push(this.z.Od?"cursor:pointer;":"");a.push("background:url("+C.ca+"blank.gif);");a.push("width:"+this.z.wf.size.width+"px;");a.push("height:"+this.z.wf.size.height+"px;");a.push(\'"></span>\');return a.join("")}, fI:function(){var a=[\'<span class="BMap_Marker" unselectable="on" \'];a.push(\'style="position:absolute;padding:0;margin:0;border:0;\');a.push(\'width:0;height:0;-moz-user-select:none"></span>\');return a.join("")},gJ:function(){var a=[\'<span unselectable="on" \'];a.push(\'style="position:absolute;padding:0;margin:0;border:0;\');a.push(\'width:0;height:0;-moz-user-select:none"></span>\');return a.join("")},draw:function(){if(this.K){var a=this.BH();this.K.style.left=a[0].x+"px";this.K.style.top=a[0].y+"px"; this.Ib&&(this.Ib.style.left=a[0].x+"px",this.Ib.style.top=a[0].y+"px");this.Lc&&(this.Lc.style.left=a[1].x+"px",this.Lc.style.top=a[1].y+"px");this.Va!=n&&this.Va.Ca()&&this.Va.ga();this.Xi()}},BH:function(){var a=this.z.la||new L(0,0),b=this.z.wf.anchor||new L(0,0),c=this.map.Bf(this.ea()),b=[new O(c.x+a.width-b.width,c.y+a.height-b.height)];if(this.z.ki){var d=this.z.ki.anchor||new L(0,0);b[1]=new O(c.x+a.width-d.width,c.y+a.height-d.height)}return b},nc:function(){this.map?(this.K=this.initialize(this.map), this.im&&(this.Yj(this.im),delete this.im)):delete this.im},remove:function(){this.Yj(n);this.Ib&&this.Ib.parentNode&&this.Ib.parentNode.removeChild(this.Ib);this.Lc&&this.Lc.parentNode&&this.Lc.parentNode.removeChild(this.Lc);this.Va&&(this.Va.Ma&&this.Va.Ma===this)&&(this.dc(),this.Va=n);this.mb=this.Pb=this.Lc=this.Ib=n;if(this.z.label){var a=this.z.label;a.removeEventListener("remove",this.gp);t.lang.Hq(a.P);a.sE(n);a.K=n;this.z.label=n}Na.prototype.remove.call(this)},H:function(){Na.prototype.H.call(this); this.K&&t.A.H(this.K);this.Ib&&t.A.H(this.Ib);this.Lc&&t.A.H(this.Lc)},show:function(){Na.prototype.show.call(this);this.K&&t.A.show(this.K);this.Ib&&t.A.show(this.Ib);this.Lc&&t.A.show(this.Lc)},Te:function(a){if(a instanceof Mb&&(this.z.wf=a,this.map&&this.K&&this.Ib)){try{this.Pb&&(this.Ib.removeChild(this.Pb),this.Pb=n),this.K.style.width=a.size.width+"px",this.K.style.height=a.size.height+"px"}catch(b){}if(this.z.wf){var c=this.Pb=K("div"),d=c.style;d.position="absolute";d.padding=d.margin="0"; d.width=a.size.width+"px";d.height=a.size.height+"px";d.overflow="hidden";c.innerHTML=Nd(a);c.gC=o;this.Ib.appendChild(this.Pb)}this.draw()}},as:function(a){if(a instanceof Mb&&(this.z.ki=a,this.map&&this.K&&this.Ib)){this.Lc||(this.Lc=hb(this.map.vf().vD,this.gJ()));try{this.mb&&(this.Lc.removeChild(this.mb),this.mb=n),this.Lc.style.width=a.size.width+"px",this.Lc.style.height=a.size.height+"px"}catch(b){}if(this.z.ki){var c=this.mb=K("div"),d=c.style;d.position="absolute";d.padding=d.margin="0"; d.width=a.size.width+"px";d.height=a.size.height+"px";d.overflow="hidden";c.innerHTML=Nd(a);c.gC=o;this.Lc.appendChild(this.mb)}this.draw()}},Zj:function(a){if(a&&a instanceof Ob){var b=this;I.load("marker",function(){b.cJ(a)},i)}},cJ:function(a){if(a instanceof Ob){this.z.label=a;var b=this;this.z.label.Dg||(this.z.label.Dg=i,this.gp=function(){b.z.label=n},this.z.label.addEventListener("remove",this.gp));if(this.map){a.le(this.map);a.K?this.Ib.appendChild(a.K):(a.K=hb(this.K,a.oa()),a.K.P=a.P); var c=a.K.style;c.left=a.z.la.width+"px";c.top=a.z.la.height+"px";a.sE(this)}}},Gt:function(){function a(a,b){b.pixel=b.Ta=a.Ta;b.point=b.S=a.S;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new O(b,c)}if(this.K&&!this.K.Dg){this.K.Dg=i;var c=this.map,d=this,e=0,f=0,g=0,j={x:0,y:0};this.Dn=function(a){if(d.z.Nb&&2!=a.button){d.Ei=i;var j=c.xb(d.S),m=b(a);e=m.x-j.x;f=m.y-j.y;g=Ia();d.map.F.lp=d;t.D(d.map.platform, "mousemove",d.Zg);t.D(d.map.platform,"mouseup",d.Yg);t.D(d.map.platform,"touchmove",d.Zg);t.D(d.map.platform,"touchend",d.Yg);d.K&&d.K.setCapture&&d.K.setCapture();d.K.style.cursor=d.z.Cc;"touchstart"==a.type&&A(a)}};this.Zg=function(g){if(d.Ei&&(g=b(g),j=g=new O(g.x-e,g.y-f),d.dt=g,d.z.jE&&15<g.x&&g.x<d.map.width-15&&30<g.y&&g.y<d.map.height-15||!d.z.jE)){var l=d.map.Za(g),m={Ta:g,S:l};d.Ni=d.Oi=0;if(20>=g.x||g.x>=d.map.width-20||50>=g.y||g.y>=d.map.height-10){if(20>=g.x?d.Ni=8:g.x>=d.map.width- 20&&(d.Ni=-8),50>=g.y?d.Oi=8:g.y>=d.map.height-10&&(d.Oi=-8),!d.yd)d.yd=setInterval(function(){c.Re(d.Ni,d.Oi,{noAnimation:i});var a=c.Za(d.dt);d.ga(a)},30)}else d.yd&&(clearInterval(d.yd),d.yd=n),d.ga(l);d.xi||(d.dispatchEvent(a(m,new M("ondragstart"))),d.xi=i,d.z.fE&&(d.Yj(3),R.SF(d.z.wf.anchor,d.Ib)));d.dispatchEvent(a(m,new M("ondragging")))}};this.Yg=function(){d.K&&d.K.releaseCapture&&d.K.releaseCapture();d.Ei=o;d.map.F.lp=n;t.rd(document,"mousemove",d.Zg);t.rd(document,"mouseup",d.Yg);t.rd(document, "touchmove",d.Zg);t.rd(document,"touchend",d.Yg);e=f=0;d.yd&&(clearInterval(d.yd),d.yd=n);if(100<=Ia()-g&&(2<j.x||2<j.y))d.xi=o,d.dispatchEvent(a({Ta:d.map.xb(d.ea()),S:d.ea()},new M("ondragend"))),d.z.fE&&(d.Yj(4),R.II()),j.x=j.y=0;d.Xi();d.K&&(d.K.style.cursor=d.z.Od?"pointer":"")};t.D(this.K,"mousedown",this.Dn);t.D(this.K,"touchstart",this.Dn)}},ga:function(a){a instanceof H&&(this.S=this.z.S=new H(a.lng,a.lat),this.draw())},Xi:function(){var a;this.Ei==i?a=R.ny:this.z.Kw==i?a=R.bp+(this.Hy|| 0):nb(this.zIndex)?a=this.zIndex:(a=0,this.map&&this.ea()&&(a=Ib.Vn(this.ea().lat)+this.z.eB));this.K&&(this.K.style.zIndex=a);this.Ib&&(this.Ib.style.zIndex=a)},ug:function(a,b){this.z.Kw=!!a;a&&(this.Hy=b||0);this.Xi()},Xb:function(a){this.z.title=a+"";this.K&&(this.K.title=this.z.title)},od:function(a){a instanceof L&&(this.z.la=a,this.ga(this.ea()))},Yj:function(a){var b=this;I.load("markeranimation",function(){b.aJ(a)},i)},aJ:function(a){if(this.Pb){this.pG(a!=n);var b=Ub[a];b&&(b=b?b.options.WE: o,!E()||b?this.bH(a):this.aH(a))}},pG:function(a){this.Wy(this.Pb);this.Wy(this.mb);if(a){if(this.oh&&(this.oh.stop(),this.oh=n),this.Pb.style.top=this.Pb.style.left="0px",this.mb)this.mb.style.top=this.mb.style.left="0px"}else if(this.oh){var b=this;Ld(this.oh,function(){b.oh=n})}},aH:function(a){var b=Ub[a],a=R.lH(a);this.sA(this.Pb,a[0],b);this.sA(this.mb,a[1],b)},Wy:function(a){a&&(a.style.WebkitAnimation="",t.rd(a,"webkitAnimationEnd",R.Ny))},sA:function(a,b,c){a&&(t.D(a,"webkitAnimationEnd", R.Ny),a.style.WebkitAnimation=b+" "+c.options.duration+"ms"+(c.options.loop==cb?" infinite":""))},bH:function(a){var b=this.Pb.style,c=o,d;this.mb&&(c=i,d=this.mb.style);var e=Ub[a],f=this,g=e.Kj.length,j=e.options.duration,k=f.oh=new ab({duration:0,Jh:cb}),l=e.Kj,m=e.Bo;b.top=l[0].translate[1]+"px";c&&(d.left=m[0].translate[0]+"px",d.top=m[0].translate[1]+"px");for(var q=1;q<g;q++)(function(){function a(){}var b=[l[q].translate[0]-l[q-1].translate[0],l[q].translate[1]-l[q-1].translate[1]],d=[l[q- 1].translate[0],l[q-1].translate[1]];if(c)var z=[m[q].translate[0]-m[q-1].translate[0],m[q].translate[1]-m[q-1].translate[1]],G=[m[q-1].translate[0],m[q-1].translate[1]];var w=bb[l[q-1].pb];q==g-1&&(a=e.options.loop!=cb?function(){f.oh=n}:function(){f.oh.start()});k.add(new ab({duration:(e.Kj[q].lb-l[q-1].lb)*j,Tc:40,Jh:cb,ge:w,oa:function(a){if(f.Pb)f.Pb.style.top=d[1]+Math.round(a*b[1])+"px";if(c&&f.mb){f.mb.style.left=G[0]+Math.round(a*z[0])+"px";f.mb.style.top=G[1]+Math.round(a*z[1])+"px"}},finish:a}))})(); k.start()},$r:function(a){if(a&&(this.z.rotation=a,this.map&&this.K&&this.Ib))try{if(this.Pb){var b=this.Pb.style;b.webkitTransform="rotate("+this.z.rotation+"deg)";b.oN="rotate("+this.z.rotation+"deg)";b.transform="rotate("+this.z.rotation+"deg)";b.nS="bottom 50%";b.pN="bottom 50%";b.mP="bottom 50%"}this.mb&&(b=this.mb.style,b.webkitTransform="rotate("+this.z.rotation+"deg)",b.oN="rotate("+this.z.rotation+"deg)",b.transform="rotate("+this.z.rotation+"deg)",b.MP="bottom 50%",b.pN="bottom 50%",b.mP= "bottom 50%")}catch(c){}}});U(X,{setIcon:X.Te,setPosition:X.ga,setOffset:X.od,setLabel:X.Zj,setTitle:X.Xb,setTop:X.ug,setAnimation:X.Yj,setShadow:X.as,show:X.show,hide:X.H,remove:X.remove,setRotation:X.$r,getRotation:X.wC});function Nd(a){var b="",b="",c=a.imageUrl,d=a.imageOffset,e=a.imageSize;6==t.R.$&&0<c.toLowerCase().indexOf(".png")?(b=["<div"],a.printImageUrl&&b.push(\' class="BMap_noprint"\'),b.push(\' style="width: 1px; height: 1px;\'),b.push("; left:"+d.width+"px"),b.push("; top:"+d.height+"px"),b.push("; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image,src=\'"+c+"\')"),b.push(\'; position:absolute;"></div>\'),a.printImageUrl&&(b.push(\'<img class="BMap_noscreen" style="border:none;margin-left:\'+ d.width+"px;"),b.push("margin-top:"+d.height+\'px;" src="\'+a.printImageUrl+\'" />\'))):(b=[\'<img src="\',c,\'" style="border:none;margin-left:\'+d.width+"px","; margin-top:"+d.height+"px","; "],e&&b.push("; width:"+e.width+"px; height:"+e.height+"px;"),b.push(\'" />\'));return b=b.join("")};t.extend(Ob.prototype,{fm:function(){var a=this.z,b=this.content,c=K("label",{"class":"BMapLabel",unselectable:"on"});a.title&&(c.title=a.title);var d=c.style;d.position="absolute";d.MozUserSelect="none";0==a.width||"auto"==a.width?d.display="inline":(d.width=a.width+"px",d.display="block",d.overflow="hidden");"true"==a.Od?d.cursor="pointer":t.R.$||(d.cursor="inherit");c.innerHTML=b;this.map.vf().gD.appendChild(c);this.K=c;this.Kc(a.Ml);return c},ga:function(a){a instanceof H&&!this.$q()&&(this.S= this.z.position=new H(a.lng,a.lat),this.draw())},draw:function(){if(this.K&&this.ea()&&!this.$q()){var a=this.z.la||new L(0,0),b=this.map.Bf(this.ea());this.K.style.left=b.x+a.width+"px";this.K.style.top=b.y+a.height+"px";this.Xi()}},nc:function(){this.map&&!this.Ep&&(this.K=this.initialize(this.map),this.draw())},Ic:function(a){this.content=a;this.K&&(this.K.innerHTML=a)},xO:function(a){0<=a&&1>=a&&(this.z.opacity=a);if(this.K){var b=this.K.style;b.opacity=a;b.filter="alpha(opacity="+100*a+")"}}, od:function(a){a instanceof L&&(this.z.la=new L(a.width,a.height),this.$q()&&this.K?(this.K.style.left=a.width+"px",this.K.style.top=a.height+"px"):this.draw())},Kc:function(a){a=a||{};this.z.Ml=t.extend(this.z.Ml,a);if(this.K)for(var b in a)try{this.K.style[b]=a[b]}catch(c){}},Xb:function(a){this.z.title=a+"";this.K&&(this.K.title=this.z.title)}});U(gd,{setStyle:gd.Kc,setContent:gd.Ic,setPosition:gd.ga,setOffset:gd.od,setTitle:gd.Xb}); ');
